# ESP Detection 모델 비교 분석

4개 모델 (YOLOv8n, YOLOv10n, YOLOv11n, RT-DETR-l)을 동일 조건에서 학습시키고 성능 비교함.

---

## 비교 결과 그래프

![Model Comparison](model_comparison.png)

---

## 성능 비교표

### 전체 성능 요약

| 모델 | Precision | Recall | F1 Score | False Positive | FP Rate | 추론 시간 | FPS |
|------|-----------|--------|----------|----------------|---------|-----------|-----|
| **YOLOv8n** | 0.957 | 0.957 | 0.957 | 1개 | 0.9% | 8.9ms | 112 |
| **YOLOv10n** | 1.000 | 0.696 | 0.820 | 0개 | 0.0% | 12.8ms | 78 |
| **YOLOv11n** | 0.955 | 0.913 | 0.934 | 1개 | 0.9% | 11.3ms | 89 |
| **RT-DETR-l** | 1.000 | 1.000 | 1.000 | 0개 | 0.0% | 31.9ms | 31 |

### Confusion Matrix 상세

| 모델 | TP | FP | TN | FN |
|------|----|----|----|----|
| YOLOv8n | 22 | 1 | 106 | 1 |
| YOLOv10n | 16 | 0 | 107 | 7 |
| YOLOv11n | 21 | 1 | 106 | 2 |
| RT-DETR-l | 23 | 0 | 107 | 0 |

---

## 모델별 분석

### YOLOv8n

**장점:**
- 가장 빠른 추론 속도 (8.9ms, 112 FPS)
- 높은 Precision/Recall 균형 (둘 다 95.7%)
- 실시간 60FPS 기준 충분히 여유 있음

**단점:**
- False Positive 1개 발생

**적합한 상황:**
- 실시간 모니터링이 필수인 경우
- 리소스가 제한된 환경

---

### YOLOv10n

**장점:**
- False Positive 0개 (Precision 100%)
- NMS-free 아키텍처로 일관된 성능

**단점:**
- Recall이 낮음 (69.6%) - ESP 7개를 놓침
- 탐지 누락이 많음

**적합한 상황:**
- False Positive가 절대 허용 안 되는 경우
- 놓치는 것보다 잘못 탐지하는게 더 문제인 경우

---

### YOLOv11n

**장점:**
- 최신 아키텍처로 효율적인 학습
- 적당한 속도 (89 FPS)
- Recall 91.3%로 대부분 탐지

**단점:**
- False Positive 1개 발생
- YOLOv8n보다 약간 느림

**적합한 상황:**
- 최신 기술 스택 사용 원하는 경우
- 균형잡힌 성능 필요

---

### RT-DETR-l

**장점:**
- 완벽한 성능 (Precision 100%, Recall 100%)
- False Positive 0개
- Transformer 기반으로 컨텍스트 이해력 높음

**단점:**
- 느린 추론 속도 (31.9ms, 31 FPS)
- 모델 크기 큼 (66MB vs YOLO 6MB)
- 실시간 60FPS 불가

**적합한 상황:**
- 정확도가 최우선인 경우
- 오프라인 분석/판정용
- GPU 성능 충분한 환경

---

## False Positive 분석 (핵심)

False Positive = 정상인데 핵으로 잘못 탐지한 경우

| 모델 | FP 수 | FP Rate | 평가 |
|------|-------|---------|------|
| **YOLOv10n** | 0 | 0.0% | 최고 |
| **RT-DETR-l** | 0 | 0.0% | 최고 |
| YOLOv8n | 1 | 0.9% | 양호 |
| YOLOv11n | 1 | 0.9% | 양호 |

**FP가 중요한 이유:**
- 정상 유저를 핵으로 오탐하면 억울한 밴 발생
- FP Rate 0%가 이상적이지만, 0.9%도 실무에서 허용 가능한 수준

---

## 속도 분석

| 모델 | 추론 시간 | FPS | 60FPS 가능 | 30FPS 가능 |
|------|-----------|-----|------------|------------|
| **YOLOv8n** | 8.9ms | 112 | O | O |
| YOLOv11n | 11.3ms | 89 | O | O |
| YOLOv10n | 12.8ms | 78 | O | O |
| RT-DETR-l | 31.9ms | 31 | X | O (간신히) |

---

## 추천

### 실시간 안티치트 시스템용: **YOLOv8n**
- 이유: 가장 빠르면서 FP Rate도 1% 미만
- 속도와 정확도의 최적 균형점

### FP 제로가 필수인 경우: **YOLOv10n** 또는 **RT-DETR-l**
- YOLOv10n: 속도도 어느 정도 나옴 (78 FPS)
- RT-DETR-l: 정확도 완벽하지만 느림

### 오프라인 리플레이 분석용: **RT-DETR-l**
- 이유: 완벽한 탐지 성능, 속도는 상관없음

---

## 학습 환경

| 항목 | 값 |
|------|-----|
| GPU | NVIDIA TITAN RTX |
| Dataset | Train 580장 / Val 130장 |
| Epochs | 15 |
| Batch Size | 16 (YOLO) / 8 (DETR) |
| Image Size | 640x640 |

---

## 결론

1. **속도 중시**: YOLOv8n (112 FPS, FP 0.9%)
2. **FP 제로 + 속도**: YOLOv10n (78 FPS, FP 0%)
3. **완벽한 정확도**: RT-DETR-l (100%/100%, 31 FPS)
4. **균형**: YOLOv11n (89 FPS, FP 0.9%)

실시간 게임 모니터링에는 **YOLOv8n**이 가장 적합함.
오판 허용 불가 상황에서는 **RT-DETR-l** 사용 권장.

